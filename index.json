[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "src/main/js/app.js",
    "content": "// @flow\n\nconst APP_GET_MAP: {[key: string]: Function} = {\n  'trust proxy fn': () => true\n}\nexport default {\n  get (key: string): ?Function {\n    return APP_GET_MAP[key]\n  }\n}\n",
    "static": true,
    "longname": "/home/travis/build/antongolub/reqresnext/src/main/js/app.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "variable",
    "name": "APP_GET_MAP",
    "memberof": "src/main/js/app.js",
    "static": true,
    "longname": "src/main/js/app.js~APP_GET_MAP",
    "access": "public",
    "export": false,
    "importPath": "reqresnext/src/main/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "{\"trust proxy fn\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 50,
    "kind": "file",
    "name": "src/main/js/index.js",
    "content": "// @flow\n\nimport reqresnext from './reqresnext'\nimport Request from './request'\nimport Response from './response'\n\nexport default reqresnext\nexport {\n  Request,\n  Response\n}\n",
    "static": true,
    "longname": "/home/travis/build/antongolub/reqresnext/src/main/js/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 51,
    "kind": "file",
    "name": "src/main/js/interface.js",
    "content": "// @flow\n\nimport { URL } from 'url'\n\nexport type IAny = any\nexport interface IApp {\n  get(input: any): any\n}\nexport type ISocket = Object\nexport type INext = {\n  (...args: any): any\n}\nexport type IData = any\nexport interface IDescriptor {\n  [key: any]: any\n}\n\nexport type ICookie = {\n  name: string;\n  value: string;\n  options: Object;\n}\nexport type ICookiesMap = {\n  [key: string]: ICookie\n}\nexport type ICookieSetter = {\n  (name: string, value: string, options: any): void\n}\nexport type IHeaderName = string\nexport type IHeaderValue = string\nexport type IHeadersMap = {\n  [key: IHeaderName]: IHeaderValue\n}\nexport type IHeaderSetter = {\n  (field: IHeadersMap | IHeaderName, value?: ?IHeaderValue): void\n}\nexport type IStatusCode = number\nexport type IStatusSetter = {\n  (value: IStatusCode): void\n}\nexport type IParamsMap = {\n  [key: string]: any\n}\nexport interface IRequest {\n  [key: string]: any;\n  res: Object;\n}\nexport interface IResponse {\n  [key: string]: any;\n  req: IRequest | Object;\n  cookie: ICookieSetter;\n}\nexport type IConnection = {\n  encrypted: ?boolean\n}\nexport type IQuery = {\n  [key: string]: any\n}\ntype UrlTypeBasic = {\n  protocol?: string;\n  host?: string;\n  hostname?: string;\n  query?: IQuery;\n  hash?: string;\n  port?: string;\n  pathname?: string;\n  search?: string;\n  slashes?: boolean;\n  auth?: any\n}\nexport type IUrl = URL\n/*\n{\n  hash: string;\n  host: string;\n  hostname: string;\n  href: string;\n  origin: string;\n  password: string;\n  pathname: string;\n  port: string;\n  protocol: string;\n  search: string;\n  query?: IQuery;\n}\n*/\n\nexport type IUrlOpt = UrlTypeBasic & {\n  href?: string\n}\n\nexport type IRawOptions = IUrlOpt & {\n  app?: ?IApp;\n  res?: ?Object;\n  req?: ?Object;\n  body?: ?IData;\n  url?: string;\n  connection?: ?IConnection;\n  host?: ?string;\n  statusCode? :?number;\n  status? :?number;\n  params? :?IParamsMap;\n  headers? :?IHeadersMap;\n  cookies?: ?ICookiesMap;\n  socket?: ?ISocket;\n}\n\nexport interface IRequestOpts {\n  constructor(input: IRawOptions): IRequestOpts;\n  raw: IRawOptions;\n}\nexport interface IResponseOpts {\n  headers: IHeadersMap;\n}\n",
    "static": true,
    "longname": "/home/travis/build/antongolub/reqresnext/src/main/js/interface.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 52,
    "kind": "file",
    "name": "src/main/js/reqresnext.js",
    "content": "// @flow\n\nimport type {\n  IRawOptions, IRequest, IResponse\n} from './interface'\n\nimport { isUndefined } from 'lodash'\nimport Response from './response'\nimport Request from './request'\n\nexport default function gen (reqOpts: ?IRawOptions, resOpts: ?IRawOptions, next: ?Function): {req: IRequest, res: IResponse, next: Function} {\n  const req = new Request(reqOpts)\n  const res = new Response(resOpts)\n\n  if (reqOpts && resOpts && isUndefined(reqOpts.res) && isUndefined(resOpts.req)) {\n    req.res = res\n    res.req = req\n  }\n\n  return {\n    req,\n    res,\n    next: next || (() => {})\n  }\n}\n",
    "static": true,
    "longname": "/home/travis/build/antongolub/reqresnext/src/main/js/reqresnext.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 53,
    "kind": "function",
    "name": "gen",
    "memberof": "src/main/js/reqresnext.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/main/js/reqresnext.js~gen",
    "access": "public",
    "export": true,
    "importPath": "reqresnext/src/main/js/reqresnext.js",
    "importStyle": "gen",
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "params": [
      {
        "name": "reqOpts",
        "types": [
          "*"
        ]
      },
      {
        "name": "resOpts",
        "types": [
          "*"
        ]
      },
      {
        "name": "next",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "{\"req\": *, \"res\": *, \"next\": *}"
      ]
    }
  },
  {
    "__docId__": 54,
    "kind": "file",
    "name": "src/main/js/request.js",
    "content": "// @flow\n\nimport type {\n  IAny,\n  IResponse,\n  IRequest,\n  IRawOptions,\n  IApp,\n  IConnection,\n  IData,\n  IQuery,\n  IParamsMap,\n  IHeadersMap,\n  IHeaderSetter,\n  IUrl,\n  ICookieSetter,\n  ISocket\n} from './interface'\n\nimport express from 'express'\nimport url from 'url'\nimport {\n  assign,\n  setprototypeof,\n  appendAdditionalProps\n} from './util'\nimport DEFAULT_APP from './app'\n\n// $FlowFixMe\nconst { request, response } = express\n\nexport default class Request implements IRequest {\n  $key: string\n\n  $value: IAny\n\n  cookie: ICookieSetter\n\n  header: IHeaderSetter\n\n  app: IApp | Object\n\n  res: IResponse | Object\n\n  connection: IConnection\n\n  body: ?IData\n\n  query: ?IQuery\n\n  params: ?IParamsMap\n\n  headers: IHeadersMap\n\n  _flush: Function\n\n  _readableState: IAny\n\n  socket: ISocket\n\n  constructor (input: ?IRawOptions) {\n    setprototypeof(this, request)\n    const opts = new ReqOptions(input || {})\n\n    this._flush = () => {}\n    this._readableState = {}\n    this.socket = opts.socket\n    this.app = opts.app\n    this.res = opts.res\n    this.headers = opts.headers\n    this.body = opts.body\n    this.params = opts.params\n    this.connection = opts.connection\n\n    // Passes additional props\n    appendAdditionalProps(this, opts.raw)\n  }\n}\n\nexport class ReqOptions {\n  raw: IRawOptions\n\n  headers: IHeadersMap\n\n  app: IApp | Object\n\n  res: IResponse | Object\n\n  connection: IConnection\n\n  body: ?IData\n\n  query: ?IQuery\n\n  params: ?IParamsMap\n\n  socket: ISocket\n\n  constructor (input: IRawOptions) {\n    this.res = input.res || {}\n    this.app = input.app || DEFAULT_APP\n\n    const headers = {}\n    const urlStr: string = input.url || '/'\n    const urlOpts = input.host\n      ? input\n      : url.parse(urlStr) // eslint-disable-line\n\n    // NOTE host & protocol are required by URL constructor\n    urlOpts.host = urlOpts.host || 'localhost'\n    urlOpts.protocol = urlOpts.protocol || 'http'\n\n    const urlData: IUrl = new url.URL(url.format(urlOpts))\n    const connection = assign(\n      { encrypted: urlData.protocol === 'https:' },\n      input.connection || {}\n    )\n    const context = {\n      set (k: string, v: string): void { headers[k] = v }\n    }\n    response.header.call(context, input.headers)\n    headers.host = headers.host || urlData.host\n\n    this.headers = headers\n    // $FlowFixMe\n    this.query = urlData.query\n    this.body = input.body\n    this.params = input.params || {}\n    this.connection = connection\n    this.raw = input\n    this.socket = input.socket || {}\n  }\n}\n",
    "static": true,
    "longname": "/home/travis/build/antongolub/reqresnext/src/main/js/request.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 55,
    "kind": "variable",
    "name": "request",
    "memberof": "src/main/js/request.js",
    "static": true,
    "longname": "src/main/js/request.js~request",
    "access": "public",
    "export": false,
    "importPath": "reqresnext/src/main/js/request.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 56,
    "kind": "class",
    "name": "Request",
    "memberof": "src/main/js/request.js",
    "static": true,
    "longname": "src/main/js/request.js~Request",
    "access": "public",
    "export": true,
    "importPath": "reqresnext/src/main/js/request.js",
    "importStyle": "Request",
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 57,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/main/js/request.js~Request",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/main/js/request.js~Request#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 14,
    "undocument": true
  },
  {
    "__docId__": 58,
    "kind": "member",
    "name": "_flush",
    "memberof": "src/main/js/request.js~Request",
    "static": false,
    "longname": "src/main/js/request.js~Request#_flush",
    "access": "private",
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 59,
    "kind": "member",
    "name": "_readableState",
    "memberof": "src/main/js/request.js~Request",
    "static": false,
    "longname": "src/main/js/request.js~Request#_readableState",
    "access": "private",
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 60,
    "kind": "member",
    "name": "socket",
    "memberof": "src/main/js/request.js~Request",
    "static": false,
    "longname": "src/main/js/request.js~Request#socket",
    "access": "public",
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 61,
    "kind": "member",
    "name": "app",
    "memberof": "src/main/js/request.js~Request",
    "static": false,
    "longname": "src/main/js/request.js~Request#app",
    "access": "public",
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 62,
    "kind": "member",
    "name": "res",
    "memberof": "src/main/js/request.js~Request",
    "static": false,
    "longname": "src/main/js/request.js~Request#res",
    "access": "public",
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 63,
    "kind": "member",
    "name": "headers",
    "memberof": "src/main/js/request.js~Request",
    "static": false,
    "longname": "src/main/js/request.js~Request#headers",
    "access": "public",
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 64,
    "kind": "member",
    "name": "body",
    "memberof": "src/main/js/request.js~Request",
    "static": false,
    "longname": "src/main/js/request.js~Request#body",
    "access": "public",
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 65,
    "kind": "member",
    "name": "params",
    "memberof": "src/main/js/request.js~Request",
    "static": false,
    "longname": "src/main/js/request.js~Request#params",
    "access": "public",
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 66,
    "kind": "member",
    "name": "connection",
    "memberof": "src/main/js/request.js~Request",
    "static": false,
    "longname": "src/main/js/request.js~Request#connection",
    "access": "public",
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 67,
    "kind": "class",
    "name": "ReqOptions",
    "memberof": "src/main/js/request.js",
    "static": true,
    "longname": "src/main/js/request.js~ReqOptions",
    "access": "public",
    "export": true,
    "importPath": "reqresnext/src/main/js/request.js",
    "importStyle": "{ReqOptions}",
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 68,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/main/js/request.js~ReqOptions",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/main/js/request.js~ReqOptions#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 35,
    "undocument": true
  },
  {
    "__docId__": 69,
    "kind": "member",
    "name": "res",
    "memberof": "src/main/js/request.js~ReqOptions",
    "static": false,
    "longname": "src/main/js/request.js~ReqOptions#res",
    "access": "public",
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 70,
    "kind": "member",
    "name": "app",
    "memberof": "src/main/js/request.js~ReqOptions",
    "static": false,
    "longname": "src/main/js/request.js~ReqOptions#app",
    "access": "public",
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 71,
    "kind": "member",
    "name": "headers",
    "memberof": "src/main/js/request.js~ReqOptions",
    "static": false,
    "longname": "src/main/js/request.js~ReqOptions#headers",
    "access": "public",
    "description": null,
    "lineNumber": 57,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 72,
    "kind": "member",
    "name": "query",
    "memberof": "src/main/js/request.js~ReqOptions",
    "static": false,
    "longname": "src/main/js/request.js~ReqOptions#query",
    "access": "public",
    "description": null,
    "lineNumber": 59,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 73,
    "kind": "member",
    "name": "body",
    "memberof": "src/main/js/request.js~ReqOptions",
    "static": false,
    "longname": "src/main/js/request.js~ReqOptions#body",
    "access": "public",
    "description": null,
    "lineNumber": 60,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 74,
    "kind": "member",
    "name": "params",
    "memberof": "src/main/js/request.js~ReqOptions",
    "static": false,
    "longname": "src/main/js/request.js~ReqOptions#params",
    "access": "public",
    "description": null,
    "lineNumber": 61,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 75,
    "kind": "member",
    "name": "connection",
    "memberof": "src/main/js/request.js~ReqOptions",
    "static": false,
    "longname": "src/main/js/request.js~ReqOptions#connection",
    "access": "public",
    "description": null,
    "lineNumber": 62,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 76,
    "kind": "member",
    "name": "raw",
    "memberof": "src/main/js/request.js~ReqOptions",
    "static": false,
    "longname": "src/main/js/request.js~ReqOptions#raw",
    "access": "public",
    "description": null,
    "lineNumber": 63,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 77,
    "kind": "member",
    "name": "socket",
    "memberof": "src/main/js/request.js~ReqOptions",
    "static": false,
    "longname": "src/main/js/request.js~ReqOptions#socket",
    "access": "public",
    "description": null,
    "lineNumber": 64,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 78,
    "kind": "file",
    "name": "src/main/js/response.js",
    "content": "// @flow\n\nimport type {\n  IAny,\n  IApp,\n  IData,\n  IStatusCode,\n  IHeadersMap,\n  IRequest,\n  IResponse,\n  IRawOptions,\n  IResponseOpts,\n  ICookie,\n  ICookiesMap,\n  ICookieSetter,\n  IHeaderSetter,\n  IStatusSetter,\n  IDescriptor\n} from './interface'\n\nimport express from 'express'\nimport {\n  assign,\n  each,\n  isString,\n  isBuffer,\n  concat,\n  setprototypeof,\n  appendAdditionalProps\n} from './util'\nimport DEFAULT_APP from './app'\n\n// $FlowFixMe\nconst { response } = express\n\ntype Record<T, V> = {\n  [T]: V\n}\n\nexport const DEFAULT_STATUS_CODE = 200\nexport const DEFAULT_HEADERS: Record<any, any> = {}\nexport const DEFAULT_COOKIES: Record<any, any> = {}\nexport const DEFAULT_REQ: Record<any, any> = {}\n\nexport default class Response implements IResponse {\n  $key: string\n\n  $value: IAny\n\n  cookie: ICookieSetter\n\n  header: IHeaderSetter\n\n  headers: IHeadersMap\n\n  _headers: IAny\n\n  status: IStatusSetter\n\n  app: IApp\n\n  req: IRequest | Object\n\n  body: IDescriptor\n\n  emit: Function\n\n  write: Function\n\n  end: Function\n\n  constructor (input: ?IRawOptions) {\n    setprototypeof(this, response)\n    const opts = new ResOptions(input || {})\n\n    let body: IData\n    Object.defineProperty(this, 'body', ({\n      get () { return body },\n      set (value: IData) { throw new Error('Use .send(), .write() or .json()') }\n    }: Object))\n\n    const write = this.write.bind(this)\n    this.write = (chunk: IData, encoding?: ?string, callback?: ?Function): IResponse => {\n      if (isBuffer(chunk)) {\n        body = concat(body, chunk.toString(encoding))\n      } else if (isString(chunk)) {\n        body = concat(body, chunk)\n      }\n      if (chunk !== undefined) {\n        write(chunk, encoding, callback)\n      }\n      return this\n    }\n    this.end = (chunk: IData, encoding?: ?string): IResponse => {\n      if (chunk) {\n        body = chunk\n      }\n      this.emit('finish')\n      return this\n    }\n    this._headers = null\n    this.req = opts.req\n    this.app = opts.app\n    this.status(opts.statusCode)\n    this.header(opts.headers)\n\n    each(opts.cookies, ({ name, value, options }: ICookie): void => this.cookie(name, value, options))\n\n    // Passes additional props\n    appendAdditionalProps(this, opts.raw)\n  }\n}\n\nexport class ResOptions implements IResponseOpts {\n  raw: IRawOptions\n\n  statusCode: IStatusCode\n\n  headers: IHeadersMap\n\n  cookies: ICookiesMap\n\n  app: IApp | Object\n\n  req: IRequest | Object\n\n  constructor (input: IRawOptions) {\n    this.raw = input\n    this.statusCode = ((input.statusCode || input.status || DEFAULT_STATUS_CODE) | 0)\n    this.headers = assign({}, DEFAULT_HEADERS, input.headers || {})\n    this.cookies = assign({}, DEFAULT_COOKIES, input.cookies || {})\n    this.app = input.app || DEFAULT_APP\n    this.req = input.req || DEFAULT_REQ\n  }\n}\n",
    "static": true,
    "longname": "/home/travis/build/antongolub/reqresnext/src/main/js/response.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 79,
    "kind": "variable",
    "name": "response",
    "memberof": "src/main/js/response.js",
    "static": true,
    "longname": "src/main/js/response.js~response",
    "access": "public",
    "export": false,
    "importPath": "reqresnext/src/main/js/response.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 80,
    "kind": "variable",
    "name": "DEFAULT_STATUS_CODE",
    "memberof": "src/main/js/response.js",
    "static": true,
    "longname": "src/main/js/response.js~DEFAULT_STATUS_CODE",
    "access": "public",
    "export": true,
    "importPath": "reqresnext/src/main/js/response.js",
    "importStyle": "{DEFAULT_STATUS_CODE}",
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 81,
    "kind": "variable",
    "name": "DEFAULT_HEADERS",
    "memberof": "src/main/js/response.js",
    "static": true,
    "longname": "src/main/js/response.js~DEFAULT_HEADERS",
    "access": "public",
    "export": true,
    "importPath": "reqresnext/src/main/js/response.js",
    "importStyle": "{DEFAULT_HEADERS}",
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 82,
    "kind": "variable",
    "name": "DEFAULT_COOKIES",
    "memberof": "src/main/js/response.js",
    "static": true,
    "longname": "src/main/js/response.js~DEFAULT_COOKIES",
    "access": "public",
    "export": true,
    "importPath": "reqresnext/src/main/js/response.js",
    "importStyle": "{DEFAULT_COOKIES}",
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 83,
    "kind": "variable",
    "name": "DEFAULT_REQ",
    "memberof": "src/main/js/response.js",
    "static": true,
    "longname": "src/main/js/response.js~DEFAULT_REQ",
    "access": "public",
    "export": true,
    "importPath": "reqresnext/src/main/js/response.js",
    "importStyle": "{DEFAULT_REQ}",
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 84,
    "kind": "class",
    "name": "Response",
    "memberof": "src/main/js/response.js",
    "static": true,
    "longname": "src/main/js/response.js~Response",
    "access": "public",
    "export": true,
    "importPath": "reqresnext/src/main/js/response.js",
    "importStyle": "Response",
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 85,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/main/js/response.js~Response",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/main/js/response.js~Response#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 18,
    "undocument": true
  },
  {
    "__docId__": 86,
    "kind": "member",
    "name": "write",
    "memberof": "src/main/js/response.js~Response",
    "static": false,
    "longname": "src/main/js/response.js~Response#write",
    "access": "public",
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 87,
    "kind": "member",
    "name": "end",
    "memberof": "src/main/js/response.js~Response",
    "static": false,
    "longname": "src/main/js/response.js~Response#end",
    "access": "public",
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 88,
    "kind": "member",
    "name": "_headers",
    "memberof": "src/main/js/response.js~Response",
    "static": false,
    "longname": "src/main/js/response.js~Response#_headers",
    "access": "private",
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 89,
    "kind": "member",
    "name": "req",
    "memberof": "src/main/js/response.js~Response",
    "static": false,
    "longname": "src/main/js/response.js~Response#req",
    "access": "public",
    "description": null,
    "lineNumber": 52,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 90,
    "kind": "member",
    "name": "app",
    "memberof": "src/main/js/response.js~Response",
    "static": false,
    "longname": "src/main/js/response.js~Response#app",
    "access": "public",
    "description": null,
    "lineNumber": 53,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 91,
    "kind": "class",
    "name": "ResOptions",
    "memberof": "src/main/js/response.js",
    "static": true,
    "longname": "src/main/js/response.js~ResOptions",
    "access": "public",
    "export": true,
    "importPath": "reqresnext/src/main/js/response.js",
    "importStyle": "{ResOptions}",
    "description": null,
    "lineNumber": 64,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 92,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/main/js/response.js~ResOptions",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/main/js/response.js~ResOptions#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 66,
    "undocument": true
  },
  {
    "__docId__": 93,
    "kind": "member",
    "name": "raw",
    "memberof": "src/main/js/response.js~ResOptions",
    "static": false,
    "longname": "src/main/js/response.js~ResOptions#raw",
    "access": "public",
    "description": null,
    "lineNumber": 67,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 94,
    "kind": "member",
    "name": "statusCode",
    "memberof": "src/main/js/response.js~ResOptions",
    "static": false,
    "longname": "src/main/js/response.js~ResOptions#statusCode",
    "access": "public",
    "description": null,
    "lineNumber": 68,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 95,
    "kind": "member",
    "name": "headers",
    "memberof": "src/main/js/response.js~ResOptions",
    "static": false,
    "longname": "src/main/js/response.js~ResOptions#headers",
    "access": "public",
    "description": null,
    "lineNumber": 69,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 96,
    "kind": "member",
    "name": "cookies",
    "memberof": "src/main/js/response.js~ResOptions",
    "static": false,
    "longname": "src/main/js/response.js~ResOptions#cookies",
    "access": "public",
    "description": null,
    "lineNumber": 70,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 97,
    "kind": "member",
    "name": "app",
    "memberof": "src/main/js/response.js~ResOptions",
    "static": false,
    "longname": "src/main/js/response.js~ResOptions#app",
    "access": "public",
    "description": null,
    "lineNumber": 71,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 98,
    "kind": "member",
    "name": "req",
    "memberof": "src/main/js/response.js~ResOptions",
    "static": false,
    "longname": "src/main/js/response.js~ResOptions#req",
    "access": "public",
    "description": null,
    "lineNumber": 72,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 99,
    "kind": "file",
    "name": "src/main/js/util.js",
    "content": "// @flow\n\nimport { each } from 'lodash'\nimport setprototypeof from 'setprototypeof'\nimport type { IAny } from './interface'\n\nexport { setprototypeof }\nexport { each, assign, isObject, isString, isBuffer } from 'lodash'\n\nexport function appendAdditionalProps (target: Object, props: Object): void {\n  each(props, (v: IAny, k: string) => {\n    if (!(k in target)) {\n      target[k] = v\n    }\n  })\n}\n\nexport function concat (...strings: Array<?string>): string {\n  return strings.join('')\n}\n",
    "static": true,
    "longname": "/home/travis/build/antongolub/reqresnext/src/main/js/util.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 100,
    "kind": "function",
    "name": "appendAdditionalProps",
    "memberof": "src/main/js/util.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/main/js/util.js~appendAdditionalProps",
    "access": "public",
    "export": true,
    "importPath": "reqresnext/src/main/js/util.js",
    "importStyle": "{appendAdditionalProps}",
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "params": [
      {
        "name": "target",
        "types": [
          "*"
        ]
      },
      {
        "name": "props",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 101,
    "kind": "function",
    "name": "concat",
    "memberof": "src/main/js/util.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/main/js/util.js~concat",
    "access": "public",
    "export": true,
    "importPath": "reqresnext/src/main/js/util.js",
    "importStyle": "{concat}",
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "params": [
      {
        "name": "strings",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 102,
    "kind": "file",
    "name": "src/test/js/index.js",
    "content": "import reqresnext, { Request, Response } from '../../main/js'\n\ndescribe('index', () => {\n  it('exposes api', () => {\n    expect(Request).toEqual(expect.any(Function))\n    expect(Response).toEqual(expect.any(Function))\n    expect(reqresnext).toEqual(expect.any(Function))\n  })\n})\n",
    "static": true,
    "longname": "/home/travis/build/antongolub/reqresnext/src/test/js/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 103,
    "kind": "file",
    "name": "src/test/js/reqresnext.js",
    "content": "import reqresnext from '../../main/js/reqresnext'\n\ndescribe('reqresnext', () => {\n  it('generates proper result map', () => {\n    const { req, res, next } = reqresnext({\n      method: 'GET',\n      url: '/example.com'\n    })\n\n    expect(req).toEqual(expect.any(Object))\n    expect(res).toEqual(expect.any(Object))\n    expect(next).toEqual(expect.any(Function))\n  })\n\n  describe('req-res cross links:', () => {\n    it('are added if not specified in the opts', () => {\n      const { req, res } = reqresnext({}, {})\n\n      expect(req.res).toEqual(res)\n      expect(res.req).toEqual(req)\n    })\n\n    it('are skipped otherwise', () => {\n      const foo = {}\n      const bar = {}\n      const { req, res } = reqresnext({ res: foo }, { req: bar })\n\n      expect(req.res).toEqual(foo)\n      expect(res.req).toEqual(bar)\n    })\n  })\n\n  describe('next', () => {\n    it('creates empty fn if param is undefined', () => {\n      const { next } = reqresnext()\n\n      expect(next).toEqual(expect.any(Function))\n      expect(next()).toBeUndefined()\n    })\n\n    it('passes back optional handler', () => {\n      const handler = () => {}\n      const { next } = reqresnext({}, {}, handler)\n\n      expect(next).toBe(handler)\n    })\n  })\n})\n",
    "static": true,
    "longname": "/home/travis/build/antongolub/reqresnext/src/test/js/reqresnext.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 104,
    "kind": "file",
    "name": "src/test/js/request.js",
    "content": "import Request from '../../main/js/request'\nimport { IncomingMessage } from 'http'\n\ndescribe('request', () => {\n  describe('constructor', () => {\n    it('returns proper instance', () => {\n      const req = new Request()\n\n      // NOTE Yes, it's correct. You can rely on the fact that req.constructor refers to IncomingMessage.\n      expect(req).not.toBeInstanceOf(Request)\n      expect(req).toBeInstanceOf(IncomingMessage)\n    })\n  })\n\n  describe('proto', () => {\n    describe('url', () => {\n      it('exposes path parts as getters', () => {\n        const req = new Request({ url: 'https://example.com' })\n\n        expect(req.hostname).toBe('example.com')\n        expect(req.protocol).toBe('https')\n      })\n\n      it('opts form has priority', () => {\n        const req = new Request({ host: 'foobar.com', protocol: 'http', url: 'https://example.com' })\n\n        expect(req.path).toBe('/')\n        expect(req.hostname).toBe('foobar.com')\n        expect(req.host).toBe('foobar.com')\n        expect(req.protocol).toBe('http')\n      })\n\n      it('attaches default host and protocol values', () => {\n        const req = new Request({ url: '/example.com' })\n\n        expect(req.url).toBe('/example.com')\n        expect(req.host).toBe('localhost')\n        expect(req.protocol).toBe('http')\n      })\n    })\n\n    describe('headers', () => {\n      it('exposes proper getters', () => {\n        const req = new Request({ headers: { foo: 'bar', baz: 'qux' } })\n\n        expect(req.headers.foo).toBe('bar')\n        expect(req.header('foo')).toBe('bar')\n        expect(req.get('BAZ')).toBe('qux')\n      })\n    })\n\n    describe('ip', () => {\n      it('resolves value from headers', () => {\n        const req = new Request({\n          headers: {\n            'x-forwarded-for': '192.168.1.10'\n          },\n          method: 'GET'\n        })\n\n        expect(req.ip).toBe('192.168.1.10')\n      })\n    })\n\n    describe('method', () => {\n      it('is passed down', () => {\n        const req = new Request({\n          method: 'GET'\n        })\n        expect(req.method).toBe('GET')\n      })\n    })\n\n    describe('events', () => {\n      it('on', () => {\n        let foo\n        const req = new Request()\n        req.on('data', () => {\n          foo = 'bar'\n        })\n        req.emit('data')\n\n        expect(foo).toBe('bar')\n      })\n    })\n\n    describe('_flush', () => {\n      it('does nothing', () => {\n        const req = new Request()\n\n        expect(req._flush()).toBeUndefined()\n      })\n    })\n  })\n})\n",
    "static": true,
    "longname": "/home/travis/build/antongolub/reqresnext/src/test/js/request.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 105,
    "kind": "file",
    "name": "src/test/js/response.js",
    "content": "import Response from '../../main/js/response'\nimport { ServerResponse } from 'http'\n\ndescribe('response', () => {\n  describe('construtor', () => {\n    it('returns proper instance', () => {\n      const res = new Response()\n\n      expect(res).not.toBeInstanceOf(Response)\n      expect(res).toBeInstanceOf(ServerResponse)\n    })\n\n    it('inherits http.ServerResponse', () => {\n      const res = new Response()\n\n      expect(res.pipe).toEqual(expect.any(Function))\n      expect(res.setHeader).toEqual(expect.any(Function))\n      expect(res.getHeader).toEqual(expect.any(Function))\n    })\n\n    it('passes optional props', () => {\n      const end = () => {}\n      const res = new Response({ foo: 'bar', end })\n\n      expect(res.foo).toBe('bar')\n      expect(res.end).not.toEqual(end)\n    })\n  })\n\n  describe('proto', () => {\n    it('send', () => {\n      const res = new Response()\n      res.send('foo')\n      expect(res.body).toBe('foo')\n    })\n\n    it('json', () => {\n      const res = new Response()\n      const data = { foo: 'bar' }\n      res.json(data)\n\n      expect(res.body).toEqual(JSON.stringify(data))\n    })\n\n    it('body', () => {\n      const res = new Response()\n      res.send('foo')\n      expect(res.body).toBe('foo')\n\n      expect(() => {\n        res.body = 'bar'\n      }).toThrow('Use .send(), .write() or .json()')\n    })\n\n    it('cookies', () => {\n      const foo = { name: 'foo', value: 'bar', options: {} }\n      const res = new Response({ cookies: [foo] })\n\n      expect(res.get('Set-Cookie')).toBe('foo=bar; Path=/')\n    })\n\n    it('on', () => {\n      let foo\n      const res = new Response()\n      res.on('finish', () => {\n        foo = 'bar'\n      })\n\n      res.send('')\n\n      expect(foo).toBe('bar')\n    })\n\n    it('write', () => {\n      const res = new Response()\n      res.write('foo')\n      res.write(Buffer.from('bar'))\n      res.write()\n      expect(res.body).toBe('foobar')\n    })\n  })\n})\n",
    "static": true,
    "longname": "/home/travis/build/antongolub/reqresnext/src/test/js/response.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "kind": "index",
    "content": "# reqresnext\n\n[![Build Status](https://travis-ci.com/antongolub/reqresnext.svg?branch=master)](https://travis-ci.com/antongolub/reqresnext)\n[![npm (tag)](https://img.shields.io/npm/v/reqresnext/latest.svg)](https://www.npmjs.com/package/reqresnext)\n[![dependencyStatus](https://img.shields.io/david/antongolub/reqresnext.svg?maxAge=60000)](https://david-dm.org/antongolub/reqresnext)\n[![devDependencyStatus](https://img.shields.io/david/dev/antongolub/reqresnext.svg?maxAge=60000)](https://david-dm.org/antongolub/reqresnext)\n[![Maintainability](https://api.codeclimate.com/v1/badges/b6f37eeb4ba506b87f6c/maintainability)](https://codeclimate.com/github/antongolub/reqresnext/maintainability)\n[![Test Coverage](https://api.codeclimate.com/v1/badges/b6f37eeb4ba506b87f6c/test_coverage)](https://codeclimate.com/github/antongolub/reqresnext/test_coverage)\n[![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg)](http://standardjs.com)\n[![Greenkeeper badge](https://badges.greenkeeper.io/antongolub/reqresnext.svg)](https://greenkeeper.io/)\n\nTiny helper for [expressjs](https://expressjs.com/) middlewares testing.\n\n##### Motivation\nThere're several nice mocking tools for express/connect.\nThe best of them (imho) is [node-mocks-http](https://github.com/howardabrams/node-mocks-http) by Howard Abrams.\nThis lib brings constructors, that accurately reproduces logic of express classes. That's pretty cool, but sometimes you need a bit more.\n\nReqresnext:\n1. Just uses `express` proto directly. So you get not _just similar_, but _exactly the same_ behaviour as in production.\n2. Exposes the only additional property to verify outgoing data  `res.body`.\n\n## Install\n```bash\nnpm add reqresnext -D\nyarn add reqresnext -D\n```\n\n## Usage\n```javascript\n    import reqresnext from 'reqresnext'\n \n    it('middleware does something', () => {\n      const {req, res, next} = reqresnext(<ReqOptions>, <ResOptions>)\n      mware(req, res, next)\n \n      expect(res.statusCode).toEqual('...')\n      expect(res.body).toEqual('...')\n    })\n```\n#### Request & Response\nAlso you may construct `req/res` instances directly:\n```javascript\n    import {Response, Request} from 'reqresnext'\n\n    const foo = {name: 'foo', value: 'bar', options: {}}\n    const res = new Response({cookies: [foo]})\n    \n    expect(res.get('Set-Cookie')).toEqual('foo=bar; Path=/')\n```\nSupported options are described in [interface](./src/interface.js). The main ones:\n```javascript\n// cookies\n    const foo = {name: 'foo', value: 'bar', options: {}}\n    const res = new Response({cookies: [foo]})\n\n// headers\n    const req = new Request({headers: {foo: 'bar', baz: 'qux'}})\n\n// url\n    const req = new Request({url: 'https://example.com'})\n```\n\nAny additional props that does not intersect with proto are injected as is.\n```javascript\n    const res = new Response({foo: 'bar', baz: 1, ...})\n    res.foo // 'bar'\n```\n\n#### `next()` handler \n`Next` handler may be wrapped with `spy` anytime: before or after `reqresnext`. If function is specified, the factory just passes it back.\n```javascript\n    const handler = chai.spy(() => {})\n    const {next} = reqresnext({}, {}, handler)\n    \n    next === handler // true  \n```\n",
    "longname": "/home/travis/build/antongolub/reqresnext/README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n  \"name\": \"reqresnext\",\n  \"version\": \"1.5.2\",\n  \"description\": \"Tiny helper for express middleware testing\",\n  \"main\": \"target/es5/index.js\",\n  \"types\": \"typings/index.d.ts\",\n  \"typescript\": {\n    \"definition\": \"typings/index.d.ts\"\n  },\n  \"@std/esm\": {\n    \"mode\": \"all\",\n    \"cjs\": true\n  },\n  \"scripts\": {\n    \"fetch:types\": \"flow-typed install express@4.x.x lodash@4.x.x setprototypeof@1.x.x\",\n    \"flow\": \"flow\",\n    \"flow:coverage\": \"flow-coverage-report -i 'src/main/js/**/*.js' -t html -t json -t text --threshold 75\",\n    \"build\": \"BABEL_ENV=production babel src/main/js --out-dir target/es5 && npm run docs\",\n    \"lint\": \"standard src/**/*.js\",\n    \"lint:fix\": \"npm run lint -- --fix\",\n    \"jest\": \"jest -w 2\",\n    \"test\": \"npm run flow && npm run flow:coverage && npm run lint && npm run jest\",\n    \"test:report\": \"npm test && npm run codeclimate:push && npm run coveralls:push\",\n    \"codeclimate:push\": \"codeclimate-test-reporter < ./coverage/lcov.info\",\n    \"coveralls:push\": \"cat ./coverage/lcov.info | coveralls\",\n    \"docs\": \"esdoc\",\n    \"release\": \"npm test && npm run build && npm run semantic-release\",\n    \"semantic-release\": \"semantic-release\",\n    \"postupdate\": \"npm i && npm audit fix && npm run build && npm run test\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git@github.com:antongolub/reqresnext.git\"\n  },\n  \"keywords\": [\n    \"mock\",\n    \"express mock\",\n    \"http mock\",\n    \"mock testing\",\n    \"req res next\"\n  ],\n  \"author\": \"Anton Golub <a.golub@qiwi.com> (http://antongolub.com)\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"express\": \"^4.17.1\",\n    \"lodash\": \"^4.17.21\",\n    \"setprototypeof\": \"^1.2.0\"\n  },\n  \"devDependencies\": {\n    \"@babel/cli\": \"^7.14.5\",\n    \"@babel/core\": \"^7.14.6\",\n    \"@babel/plugin-transform-flow-strip-types\": \"^7.14.5\",\n    \"@babel/plugin-transform-runtime\": \"^7.14.5\",\n    \"@babel/polyfill\": \"^7.8.3\",\n    \"@babel/preset-env\": \"^7.14.7\",\n    \"@babel/preset-flow\": \"^7.14.5\",\n    \"@qiwi/semantic-release-gh-pages-plugin\": \"^5.1.1\",\n    \"@semantic-release/changelog\": \"^5.0.1\",\n    \"@semantic-release/git\": \"^9.0.0\",\n    \"@semantic-release/release-notes-generator\": \"^9.0.3\",\n    \"babel-core\": \"^7.0.0-bridge.0\",\n    \"babel-eslint\": \"^10.0.3\",\n    \"babel-plugin-transform-class-properties\": \"^6.24.1\",\n    \"babel-preset-minify\": \"^0.5.1\",\n    \"codeclimate-test-reporter\": \"^0.5.1\",\n    \"coveralls\": \"^3.1.1\",\n    \"esdoc\": \"^1.1.0\",\n    \"esdoc-coverage-plugin\": \"^1.1.0\",\n    \"esdoc-flow-plugin\": \"^1.0.0\",\n    \"esdoc-standard-plugin\": \"^1.0.0\",\n    \"eslint-plugin-flowtype\": \"^5.8.0\",\n    \"flow-bin\": \"^0.155.0\",\n    \"flow-coverage-report\": \"^0.8.0\",\n    \"flow-remove-types\": \"^2.155.0\",\n    \"flow-typed\": \"^3.3.1\",\n    \"jest\": \"^27.0.6\",\n    \"semantic-release\": \"^17.4.4\",\n    \"standard\": \"^16.0.3\"\n  },\n  \"files\": [\n    \"README.md\",\n    \"CHANGELOG.md\",\n    \"target\",\n    \"flow-typed\",\n    \"typings\"\n  ],\n  \"release\": {\n    \"branch\": \"master\",\n    \"plugins\": [\n      \"@semantic-release/release-notes-generator\",\n      \"@semantic-release/changelog\",\n      \"@semantic-release/git\",\n      \"@semantic-release/github\",\n      \"@semantic-release/npm\",\n      [\n        \"@qiwi/semantic-release-gh-pages-plugin\",\n        {\n          \"msg\": \"updated\",\n          \"branch\": \"gh-pages\"\n        }\n      ]\n    ]\n  },\n  \"standard\": {\n    \"parser\": \"babel-eslint\",\n    \"plugins\": [\n      \"flowtype\"\n    ],\n    \"globals\": [\n      \"it\",\n      \"expect\",\n      \"describe\",\n      \"before\",\n      \"after\",\n      \"afterEach\",\n      \"beforeEach\"\n    ],\n    \"rules\": {\n      \"use-flow-type\": 1\n    },\n    \"ignore\": [],\n    \"settings\": {\n      \"flowtype\": {\n        \"onlyFilesWithFlowAnnotation\": true\n      }\n    }\n  },\n  \"jest\": {\n    \"collectCoverage\": true,\n    \"coveragePathIgnorePatterns\": [\n      \"<rootDir>/src/main/js/interface.js\"\n    ],\n    \"collectCoverageFrom\": [\n      \"<rootDir>/src/main/**/*.js\"\n    ],\n    \"testMatch\": [\n      \"<rootDir>/src/test/**/*.js\"\n    ]\n  }\n}\n",
    "longname": "/home/travis/build/antongolub/reqresnext/package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]